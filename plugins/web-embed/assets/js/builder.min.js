/**
 * Web Embed Builder JavaScript - Minified
 * @package WebEmbed
 * @since 1.0.0
 */
!function(e){"use strict";function t(){const t=e("#web-embed-builder-form"),o=e("#shortcode-output"),n=e("#copy-shortcode"),s=e(".copy-feedback"),a=e("#preview-container"),r=e(".web-embed-shortcode-output");function c(){a.addClass("loading").html(""),r.show();const t={action:"web_embed_preview",nonce:webEmbedBuilder.nonce,url:e("#builder_url").val(),width:e("#builder_width").val(),height:e("#builder_height").val(),responsive:e("#builder_responsive").is(":checked")?"true":"false",border:e("#builder_border").val(),border_radius:e("#builder_border_radius").val(),title:e("#builder_title").val(),loading:e("#builder_loading").is(":checked")?"lazy":"eager",class:e("#builder_class").val()};e.ajax({url:webEmbedBuilder.ajaxUrl,type:"POST",data:t,success:function(t){if(t.success){o.text(t.data.shortcode),n.prop("disabled",!1),a.removeClass("loading").html(t.data.html);const s=e("#builder_url").val();let r="";try{r=(new URL(s)).hostname}catch(e){}if(["google.com","facebook.com","twitter.com","instagram.com","youtube.com","github.com","linkedin.com"].some((function(e){return r.includes(e)&&!r.includes("maps.google.com")&&!r.includes("youtube.com/embed")}))){const e='<div class="notice notice-warning" style="margin-top: 15px; padding: 10px;"><p><strong>⚠️ '+l(webEmbedBuilder.strings.error)+': Embedding Likely Blocked</strong></p><p>This site ('+l(r)+') typically prevents embedding for security reasons (X-Frame-Options header). The shortcode will work on your site, but the content may show a fallback message instead.</p><p><strong>Tip:</strong> Try embedding:</p><ul><li>Google Maps (maps.google.com/embed)</li><li>YouTube videos (youtube.com/embed)</li><li>Your own internal tools/dashboards</li></ul></div>';a.prepend(e)}e("html, body").animate({scrollTop:r.offset().top-50},500)}else i(t.data.message||"Unknown error")},error:function(e,t,o){i("AJAX error: "+o)}})}function i(e){a.removeClass("loading").html('<div class="notice notice-error"><p><strong>'+l(webEmbedBuilder.strings.error)+":</strong> "+l(e)+"</p></div>")}function d(t){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(t).then((function(){u(!0)}),(function(){b(t)}));else b(t)}function b(t){const o=e("<textarea>").val(t).appendTo("body").select();try{const e=document.execCommand("copy");u(e)}catch(e){u(!1)}o.remove()}function u(e){e?(s.text(webEmbedBuilder.strings.copied).fadeIn(),setTimeout((function(){s.fadeOut()}),2e3)):alert(webEmbedBuilder.strings.copyFailed)}function l(e){return e.replace(/[&<>"']/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"}[e]}))}t.on("submit",(function(e){e.preventDefault(),c()})),n.on("click",(function(){!function(){const t=o.text();d(t)}()}))}e(document).ready((function(){t()}))}(jQuery);

